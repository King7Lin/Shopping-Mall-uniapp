(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/details/details"],{55:function(e,t,s){"use strict";(function(e){s(5);n(s(3));var t=n(s(56));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=s,e(t.default)}).call(this,s(1)["createPage"])},56:function(e,t,s){"use strict";s.r(t);var n=s(57),o=s(59);for(var i in o)"default"!==i&&function(e){s.d(t,e,(function(){return o[e]}))}(i);s(61);var c,a=s(11),r=Object(a["default"])(o["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],c);r.options.__file="pages/details/details.vue",t["default"]=r.exports},57:function(e,t,s){"use strict";s.r(t);var n=s(58);s.d(t,"render",(function(){return n["render"]})),s.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]})),s.d(t,"recyclableRender",(function(){return n["recyclableRender"]})),s.d(t,"components",(function(){return n["components"]}))},58:function(e,t,s){"use strict";var n;s.r(t),s.d(t,"render",(function(){return o})),s.d(t,"staticRenderFns",(function(){return c})),s.d(t,"recyclableRender",(function(){return i})),s.d(t,"components",(function(){return n}));try{n={uniSwiperDot:function(){return s.e("uni_modules/uni-swiper-dot/components/uni-swiper-dot/uni-swiper-dot").then(s.bind(null,166))},uniFav:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-fav/components/uni-fav/uni-fav")]).then(s.bind(null,173))},uniGoodsNav:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-goods-nav/components/uni-goods-nav/uni-goods-nav")]).then(s.bind(null,184))},uniDataCheckbox:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox")]).then(s.bind(null,195))},uniIcons:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(s.bind(null,158))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.show=!0},e.e1=function(t){e.showAddres=!0},e.e2=function(t){e.showShare=!0})},i=!1,c=[];o._withStripped=!0},59:function(e,t,s){"use strict";s.r(t);var n=s(60),o=s.n(n);for(var i in n)"default"!==i&&function(e){s.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},60:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s(12));function n(e){return e&&e.__esModule?e:{default:e}}var o={data:function(){return{user_id:getApp().globalData.user_id,address:null,share:[[{name:"微信",icon:"wechat"},{name:"朋友圈",icon:"wechat-moments"},{name:"微博",icon:"weibo"},{name:"QQ",icon:"qq"}]],options:[{icon:"home",text:"首页"},{icon:"cart",text:"购物车"}],buttonGroup:[{text:"加入购物车",backgroundColor:"#ff0000",color:"#fff"},{text:"立即购买",backgroundColor:"#ffa200",color:"#fff"}],checkList:!1,show:!1,showAddres:!1,showShare:!1,detailImg:[],shop:[],specifications:[],Fchoose:[],stevalue:1,desc:"",Daddress:"",current:0}},onLoad:function(t){var s=this;e.request({url:"http://47.94.11.39:3007/all/selectDetails?shop_id=".concat(t.shop_id,"&user_id=").concat(this.user_id),success:function(e){var t=e.data,n=t.detailImg,o=t.shop,i=t.specifications;s.checkList=e.data.check,s.detailImg=n,s.shop=o[0][0];for(var c=0;c<i.length;c++){for(var a=i[c][1],r=[],u=0;u<i[c][1].length;u++)r.push({value:c+","+u,text:a[u]});s.specifications[c]={title:i[c][0],select:r}}}}),e.request({url:"http://47.94.11.39:3007/all/selectAddress?user_id="+this.user_id,success:function(e){console.log(e),s.address=e.data,s.address.forEach((function(e){1==e.address_default&&(s.Daddress=e)})),console.log(s.Daddress)}}),e.request({url:"http://47.94.11.39:3007/all/insertfootprint?user_id="+this.user_id+"&shop_id="+t.shop_id,success:function(e){console.log(e)}})},methods:{clickItem:function(e){console.log(e)},changeImg:function(e){console.log(e.detail.current),this.current=e.detail.current},onClick:function(t){console.log(t),0===t.index?e.switchTab({url:"../index/index"}):e.switchTab({url:"../car/car"}),e.showToast({title:"点击".concat(t.content.text),icon:"none"})},buttonClick:function(t){var s=this,n=0;if(this.desc.split("").forEach((function(e){"，"===e&&n++})),""===this.desc||n!==this.specifications.length)this.$notify({type:"danger",message:"请选择规格"}),this.show=!0;else if(0==t.index)e.request({url:"http://47.94.11.39:3007/all/insertCart",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{user_id:this.user_id,shop_id:this.shop.shop_id,desc:this.desc,num:this.stevalue},success:function(e){console.log(e),1!==e.data.status?(s.$notify({type:"success",message:"加入购物车成功"}),s.show=!1):s.$notify({type:"danger",message:"加入购物车失败,请联系客服"})}});else{console.log(this.stevalue),this.shop.desc=this.desc,this.shop.num=this.stevalue;var o="["+JSON.stringify(this.shop)+"]";console.log(o),e.request({url:"http://47.94.11.39:3007/all/insertOrder",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{user_id:this.user_id,shop_id:[3,this.stevalue],desc:this.desc},success:function(t){console.log(t),1!==t.data.status?(s.$notify({type:"success",message:"操作成功"}),setTimeout((function(){e.navigateTo({url:"../settlement/settlement?id="+t.data.id+"&shop="+o+"&address_id="+s.Daddress.id})}),1e3)):s.$notify({type:"success",message:"操作失败"})}})}},ChangeCheck:function(){var t=this;this.checkList=!this.checkList,this.checkList?e.request({url:"http://47.94.11.39:3007/all/insertCollection?user_id="+this.user_id+"&shop_id="+this.shop.shop_id,success:function(e){console.log(e),1!==e.data.status?t.$notify({type:"success",message:"收藏成功"}):t.$notify({type:"danger",message:"操作失败，请联系客服"})}}):e.request({url:"http://47.94.11.39:3007/all/deleteCollection?user_id="+this.user_id+"&shop_id="+this.shop.shop_id,success:function(e){console.log(e),1!==e.data.status?t.$notify({type:"warning",message:"取消收藏成功"}):t.$notify({type:"danger",message:"操作失败，请联系客服"})}})},close:function(){this.show=!1,this.showAddres=!1,this.showShare=!1},onSelect:function(){this.showShare=!1},selchange:function(e){var t=this;console.log("selchange",e);var s=e.detail.data.value.split(",");if(this.Fchoose.length<1)this.Fchoose.push({value:s,text:e.detail.data.text}),console.log("外层");else{var n=999;this.Fchoose.forEach((function(o,i){i>t.specifications.length-1||o.value[0]===s[0]&&(console.log(o,o.value[0],s[0]),o.value=s,o.text=e.detail.data.text,console.log(i),n=i)})),999===n&&this.Fchoose.push({value:s,text:e.detail.data.text})}console.log("fchoose",this.Fchoose)},radioChange:function(e){var t=this;console.log(e),this.address.forEach((function(s){console.log(s.id),parseInt(e.detail.value)===s.id&&(t.Daddress=s)})),console.log(this.Daddress)},Stevalue:function(e){console.log(e),this.stevalue=e.detail,this.shop.num=e.detail},addAddress:function(){console.log("address"),e.navigateTo({url:"../address/addAddress"})}},computed:{ALLchoose:function(){var e="";return this.Fchoose.forEach((function(t){e+=t.text+"，"})),this.desc=e,e},address_check:function(){var e=0;return this.address&&this.address.forEach((function(t,s){1===t.address_default&&(e=s)})),e}}};t.default=o}).call(this,s(1)["default"])},61:function(e,t,s){"use strict";s.r(t);var n=s(62),o=s.n(n);for(var i in n)"default"!==i&&function(e){s.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},62:function(e,t,s){}},[[55,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/details/details.js.map